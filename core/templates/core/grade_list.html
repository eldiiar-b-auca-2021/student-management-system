{% extends 'base.html' %}

{% block title %}–û—Ü–µ–Ω–∫–∏{% endblock %}

{% block content %}
    <div class="container mt-4" style="padding-top: 80px;">
        <h1 class="mb-4">–°–ø–∏—Å–æ–∫ –æ—Ü–µ–Ω–æ–∫</h1>

        <div class="d-flex justify-content-between mb-3" style="margin-top: 20px">
            <a href="{% url 'home' %}" class="btn btn-outline-secondary">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            {% if not is_student %}
                <a href="{% url 'grade_create' %}" class="btn btn-secondary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</a>
            {% else %}
                <span class="text-muted align-self-center">‚ö†Ô∏è –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫.</span>
            {% endif %}
        </div>

        <div class="table-responsive">
            <table class="table table-bordered align-middle">
                <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>–ü—Ä–æ–µ–∫—Ç</th>
                    <th>–°—Ç—É–¥–µ–Ω—Ç</th>
                    <th>–û—Ü–µ–Ω–∫–∞</th>
                    <th>–û—Ü–µ–Ω–∏–ª</th>
                    <th>–î–∞—Ç–∞</th>
                    <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                    <th class="text-end">–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
                </thead>
                <tbody>
                {% for grade in grades %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ grade.work.assignment.project.title }}</td>
                        <
                        <td>{{ grade.work.assignment.student.full_name }} ({{ grade.work.assignment.student.group }})
                        </td>
                        <td>{{ grade.grade }}</td>
                        <td>
                            {{ grade.graded_by.full_name|default:"‚Äî" }}
                        </td>
                        <td>{{ grade.grade_date|date:"Y-m-d H:i" }}</td>
                        <td>{{ grade.comments|default:"‚Äî" }}</td>
                        <td class="text-end">
                            {% if not is_student %}
                                <a href="{% url 'grade_update' grade.id %}" class="btn btn-sm btn-primary">‚úèÔ∏è</a>
                                <a href="{% url 'grade_delete' grade.id %}" class="btn btn-sm btn-danger">üóëÔ∏è</a>
                            {% else %}
                                <span class="text-muted">‚Äî</span>
                            {% endif %}
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="8" class="text-center text-muted py-4">–û—Ü–µ–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
